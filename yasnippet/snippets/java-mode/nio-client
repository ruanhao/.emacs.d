# -*- mode: snippet -*-
# name: nio-client
# key: cc
# --
EventLoopGroup group = new NioEventLoopGroup();
try {
    Bootstrap b = new Bootstrap();
    b.group(group)
        .channel(NioSocketChannel.class)
        .remoteAddress(${1:host}, ${2:port})
        .handler(new ChannelInitializer<SocketChannel>() {
                @Override
                public void initChannel(SocketChannel ch) throws Exception {
                    ch.pipeline().addLast(${3:MyClientHandler});
                }
            });
    ChannelFuture f = b.connect().sync();
    f.channel().closeFuture().sync();
} catch (Exception e) {
    e.printStackTrace();
} finally {
    try {
        group.shutdownGracefully();
    } catch (Exception e) {
        e.printStackTrace();
    }
}$0